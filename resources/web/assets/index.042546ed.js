var q=Object.defineProperty,L=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var v=(r,t,o)=>t in r?q(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,c=(r,t)=>{for(var o in t||(t={}))F.call(t,o)&&v(r,o,t[o]);if(P)for(var o of P(t))G.call(t,o)&&v(r,o,t[o]);return r},m=(r,t)=>L(r,A(t));import{u as O,j as e,G as U,a as B,b as a,H as R,M as E,B as M,d as k,e as w,f as g,T as h,C as f,N as T,g as S,S as $,h as I,k as z,l as b,P as y,F as H,A as j,m as D,n as _,p as K,q as V,r as Q}from"./vendor.498e8e1e.js";import{r as d,d as x}from"./vendor_react.3ffc3dab.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}};J();const W=()=>{const r=O()||"dark",[t,o]=d.exports.useState(r);return[t,s=>o(s||(t==="dark"?"light":"dark"))]},X=r=>({"*, *::before, *::after":{boxSizing:"border-box"},body:m(c({},r.fn.fontStyles()),{backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:r.lineHeight})});var Y=()=>e(U,{styles:X}),Z=({navbarOpened:r,setNavbarOpened:t})=>{const o=B();return a(R,{height:80,children:[e(E,{largerThan:"sm",styles:{display:"none"},children:e(M,{opened:r,onClick:()=>t(l=>!l),size:"sm",color:o.colors.gray[6],mr:"xl"})}),a(k,{columns:2,justify:"space-between",children:[e(k.Col,{span:1,children:a(w,{direction:"column",spacing:0,pt:"xs",pl:"md",children:[e(w,{direction:"row",spacing:0,children:e(g,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca",leftIcon:e(x.Terminal,{}),variant:"subtle",color:"gray",p:0,children:e(h,{size:"xl",weight:"bold",children:"g3t.ca"})})}),e(h,{size:"sm",children:"Dynamic url aliasing"})]})}),e(k.Col,{span:1,mt:"xl",pr:"xl",children:a(f,{fluid:!0,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"center"},children:[e(g,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca/docs",color:"gray",leftIcon:e(x.Files,{size:18}),children:e(h,{children:"API Docs"})}),e(g,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca/repo",color:"gray",leftIcon:e(x.BrandGithub,{size:18}),ml:"xl",children:e(h,{children:"GitHub"})})]})})]})]})},ee=({opened:r,setOpened:t,setForm:o})=>{const l=s=>{o(s),t(!1)};return a(T,{p:"md",hiddenBreakpoint:"sm",hidden:!r,width:{sm:200,lg:300},children:[e(S,{order:3,children:"Requests"}),e(f,{ml:0,mt:"md",children:a($,{spacing:"md",children:[e(g,{compact:!0,onClick:()=>l("create-alias"),children:"Create Alias"}),e(g,{compact:!0,color:"red",onClick:()=>l("change-password"),children:"Change Password"})]})})]})},re=()=>{const r=I({initialValues:{username:"",password:"",key:"",url:""}}),[t,o]=d.exports.useState(),[l,s]=d.exports.useState(!1);return d.exports.useEffect(()=>s(!1),[r.values]),a(f,{my:"lg",children:[e(S,{my:"lg",children:"Create URL Alias"}),a("form",{onSubmit:r.onSubmit(async({username:n,password:i,key:C,url:u})=>{let p;try{p=await z.post("https://g3t.ca/api/v1/urls",{key:C,url:u},{headers:{"g3t-client-id":n,"g3t-client-secret":i},withCredentials:!0})}catch(N){console.error(N),o("Error!"),s(!0);return}(p==null?void 0:p.status)===200?o("Success!"):(console.warn(p==null?void 0:p.data),o("Unsuccessful!")),s(!0)}),children:[e(b,c({required:!0,label:"Username"},r.getInputProps("username"))),e(y,m(c({required:!0,label:"Password"},r.getInputProps("password")),{py:"lg"})),e(b,m(c({required:!0,label:"Custom Key",placeholder:"my/url"},r.getInputProps("key")),{py:"lg"})),e(b,m(c({required:!0,label:"Destination URL",placeholder:"https://www.some-long-url.com?abc=123"},r.getInputProps("url")),{pb:"lg"})),r.values.key.length>0&&a(H,{children:[e(h,{color:"gray",size:"sm",children:"If successful, the following alias will be created:"}),a(j,{size:"sm",href:`https://g3t.ca/${r.values.key}`,target:"_blank",children:["https://g3t.ca/",r.values.key]})]}),e(w,{position:"left",py:"lg",children:e(g,{disabled:l,type:"submit",children:"Create Link"})})]}),t&&e(h,{size:"xl",children:t})]})},te=()=>{const r=I({initialValues:{username:"",password:"",newPassword:"",confirmNewPassword:""},validationRules:{newPassword:n=>6<=n.length&&n.length<=1024,confirmNewPassword:(n,i)=>n===(i==null?void 0:i.newPassword)}}),[t,o]=d.exports.useState(),[l,s]=d.exports.useState(!1);return d.exports.useEffect(()=>s(!1),[r.values]),a(f,{my:"lg",children:[e(S,{my:"lg",children:"Create URL Alias"}),a("form",{onSubmit:r.onSubmit(async({username:n,password:i,newPassword:C})=>{let u;try{u=await z.put("https://g3t.ca/api/v1/users/self",{clientSecret:C},{headers:{"g3t-client-id":n,"g3t-client-secret":i},withCredentials:!0})}catch(p){console.error(p),o("Error!"),s(!0);return}(u==null?void 0:u.status)===200?o("Success!"):(console.warn(u==null?void 0:u.data),o("Unsuccessful!")),s(!0)}),children:[e(b,c({required:!0,label:"Username"},r.getInputProps("username"))),e(y,m(c({required:!0,label:"Current Password"},r.getInputProps("password")),{py:"lg"})),e(y,m(c({required:!0,label:"New Password"},r.getInputProps("newPassword")),{py:"lg"})),e(y,m(c({required:!0,label:"Confirm Password"},r.getInputProps("confirmNewPassword")),{pb:"lg"})),e(w,{position:"left",py:"lg",children:e(g,{disabled:l,type:"submit",children:"Update Password"})})]}),t&&e(h,{size:"xl",children:t})]})},se=({form:r})=>{switch(r){case"create-alias":return e(re,{});case"change-password":return e(te,{});default:return e(oe,{})}};const oe=()=>a(f,{my:"lg",children:[e(S,{my:"lg",children:"URL Linker"}),e(h,{size:"lg",children:"Choose an option on the left to get started."})]});var ne=()=>e(D,{height:60,p:"md",children:e(h,{children:"Footer"})}),le=()=>{const[r,t]=d.exports.useState(!1),[o,l]=d.exports.useState("none");return e(_,{styles:s=>({main:{background:s.colorScheme==="dark"?s.colors.dark[8]:s.colors.gray[0]}}),navbarOffsetBreakpoint:"sm",asideOffsetBreakpoint:"sm",fixed:!0,header:e(Z,{navbarOpened:r,setNavbarOpened:t}),navbar:e(ee,{opened:r,setOpened:t,setForm:l}),footer:e(ne,{}),children:e(se,{form:o})})},ae=()=>{const[r,t]=W();return e(d.exports.StrictMode,{children:e(K,{colorScheme:r,toggleColorScheme:t,children:a(V,{withNormalizeCSS:!0,withGlobalStyles:!0,theme:{colorScheme:r},children:[e(Y,{}),e(le,{})]})})})};const ie=document.getElementById("root");Q.exports.render(e(ae,{}),ie);
