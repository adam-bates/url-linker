var x=Object.defineProperty,P=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var w=(r,t,n)=>t in r?x(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,d=(r,t)=>{for(var n in t||(t={}))z.call(t,n)&&w(r,n,t[n]);if(C)for(var n of C(t))L.call(t,n)&&w(r,n,t[n]);return r},h=(r,t)=>P(r,I(t));import{u as A,r as m,j as e,G as F,a as G,b as s,H as B,M as N,B as O,c as f,d as S,e as p,f as y,T as i,C as g,N as M,g as k,S as T,h as $,i as q,k as b,P as H,F as j,A as D,l as R,m as U,n as E,o as _,p as K}from"./vendor.b76b00df.js";const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};Q();const V=()=>{const r=A()||"dark",[t,n]=m.exports.useState(r);return[t,o=>n(o||(t==="dark"?"light":"dark"))]},J=r=>({"*, *::before, *::after":{boxSizing:"border-box"},body:h(d({},r.fn.fontStyles()),{backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:r.lineHeight})});var W=()=>e(F,{styles:J}),X=({navbarOpened:r,setNavbarOpened:t})=>{const n=G();return s(B,{height:80,children:[e(N,{largerThan:"sm",styles:{display:"none"},children:e(O,{opened:r,onClick:()=>t(a=>!a),size:"sm",color:n.colors.gray[6],mr:"xl"})}),s(f,{columns:2,justify:"space-between",children:[e(f.Col,{span:1,children:s(S,{direction:"column",spacing:0,pt:"xs",pl:"md",children:[e(S,{direction:"row",spacing:0,children:e(p,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca",leftIcon:e(y.Terminal,{}),variant:"subtle",color:"gray",p:0,children:e(i,{size:"xl",weight:"bold",children:"g3t.ca"})})}),e(i,{size:"sm",children:"Dynamic url aliasing"})]})}),e(f.Col,{span:1,mt:"xl",pr:"xl",children:s(g,{fluid:!0,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"center"},children:[e(p,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca/docs",color:"gray",leftIcon:e(y.Files,{size:18}),children:e(i,{children:"API Docs"})}),e(p,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca/repo",color:"gray",leftIcon:e(y.BrandGithub,{size:18}),ml:"xl",children:e(i,{children:"GitHub"})})]})})]})]})},Y=({opened:r,setForm:t})=>s(M,{p:"md",hiddenBreakpoint:"sm",hidden:!r,width:{sm:200,lg:300},children:[e(k,{order:3,children:"Requests"}),e(g,{ml:0,mt:"md",children:e(T,{spacing:"md",children:e(p,{compact:!0,onClick:()=>t("create-alias"),children:"Create Alias"})})})]}),Z=()=>{const r=$({initialValues:{username:"",password:"",key:"",url:""}}),[t,n]=m.exports.useState();return s(g,{my:"lg",children:[e(k,{my:"lg",children:"Create URL Alias"}),s("form",{onSubmit:r.onSubmit(async({username:a,password:o,key:l,url:u})=>{let c;try{c=await q.post("https://g3t.ca/api/v1/urls",{key:l,url:u},{headers:{"g3t-client-id":a,"g3t-client-secret":o},withCredentials:!0})}catch(v){console.error(v),n("Error!")}(c==null?void 0:c.status)===200?n("Success!"):(console.warn(c==null?void 0:c.data),n("Unsuccessful!"))}),children:[e(b,d({required:!0,label:"Username"},r.getInputProps("username"))),e(H,h(d({required:!0,label:"Password"},r.getInputProps("password")),{py:"lg"})),e(b,h(d({required:!0,label:"Custom Key",placeholder:"my/url"},r.getInputProps("key")),{py:"lg"})),e(b,h(d({required:!0,label:"Destination URL",placeholder:"https://www.some-long-url.com?abc=123"},r.getInputProps("url")),{pb:"lg"})),r.values.key.length>0&&s(j,{children:[e(i,{color:"gray",size:"sm",children:"If successful, the following alias will be created:"}),s(D,{size:"sm",href:`https://g3t.ca/${r.values.key}`,target:"_blank",children:["https://g3t.ca/",r.values.key]})]}),e(S,{position:"left",py:"lg",children:e(p,{type:"submit",children:"Create Link"})})]}),t&&e(i,{size:"xl",children:t})]})},ee=()=>e(i,{children:"Change Password"}),re=({form:r})=>{switch(r){case"create-alias":return e(Z,{});case"change-password":return e(ee,{});default:return e(te,{})}};const te=()=>s(g,{my:"lg",children:[e(k,{my:"lg",children:"URL Linker"}),e(i,{size:"lg",children:"Choose an option on the left to get started."})]});var oe=()=>e(R,{height:60,p:"md",children:e(i,{children:"Footer"})}),ne=()=>{const[r,t]=m.exports.useState(!1),[n,a]=m.exports.useState("none");return e(U,{styles:o=>({main:{background:o.colorScheme==="dark"?o.colors.dark[8]:o.colors.gray[0]}}),navbarOffsetBreakpoint:"sm",asideOffsetBreakpoint:"sm",fixed:!0,header:e(X,{navbarOpened:r,setNavbarOpened:t}),navbar:e(Y,{opened:r,setForm:a}),footer:e(oe,{}),children:e(re,{form:n})})},le=()=>{const[r,t]=V();return e(m.exports.StrictMode,{children:e(E,{colorScheme:r,toggleColorScheme:t,children:s(_,{withNormalizeCSS:!0,withGlobalStyles:!0,theme:{colorScheme:r},children:[e(W,{}),e(ne,{})]})})})};const se=document.getElementById("root");K.exports.render(e(le,{}),se);
