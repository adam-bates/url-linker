var z=Object.defineProperty,N=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var P=(r,t,s)=>t in r?z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,c=(r,t)=>{for(var s in t||(t={}))q.call(t,s)&&P(r,s,t[s]);if(k)for(var s of k(t))A.call(t,s)&&P(r,s,t[s]);return r},p=(r,t)=>N(r,L(t));import{u as G,r as m,j as e,G as U,a as B,b as a,H as F,M as O,B as R,c as S,d as w,e as h,f as C,T as u,C as g,N as M,g as b,S as T,h as x,i as v,k as f,P as y,F as $,A as H,l as j,m as D,n as E,o as _,p as K}from"./vendor.b76b00df.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}};V();const Q=()=>{const r=G()||"dark",[t,s]=m.exports.useState(r);return[t,o=>s(o||(t==="dark"?"light":"dark"))]},J=r=>({"*, *::before, *::after":{boxSizing:"border-box"},body:p(c({},r.fn.fontStyles()),{backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:r.lineHeight})});var W=()=>e(U,{styles:J}),X=({navbarOpened:r,setNavbarOpened:t})=>{const s=B();return a(F,{height:80,children:[e(O,{largerThan:"sm",styles:{display:"none"},children:e(R,{opened:r,onClick:()=>t(n=>!n),size:"sm",color:s.colors.gray[6],mr:"xl"})}),a(S,{columns:2,justify:"space-between",children:[e(S.Col,{span:1,children:a(w,{direction:"column",spacing:0,pt:"xs",pl:"md",children:[e(w,{direction:"row",spacing:0,children:e(h,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca",leftIcon:e(C.Terminal,{}),variant:"subtle",color:"gray",p:0,children:e(u,{size:"xl",weight:"bold",children:"g3t.ca"})})}),e(u,{size:"sm",children:"Dynamic url aliasing"})]})}),e(S.Col,{span:1,mt:"xl",pr:"xl",children:a(g,{fluid:!0,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"center"},children:[e(h,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca/docs",color:"gray",leftIcon:e(C.Files,{size:18}),children:e(u,{children:"API Docs"})}),e(h,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://g3t.ca/repo",color:"gray",leftIcon:e(C.BrandGithub,{size:18}),ml:"xl",children:e(u,{children:"GitHub"})})]})})]})]})},Y=({opened:r,setForm:t})=>a(M,{p:"md",hiddenBreakpoint:"sm",hidden:!r,width:{sm:200,lg:300},children:[e(b,{order:3,children:"Requests"}),e(g,{ml:0,mt:"md",children:a(T,{spacing:"md",children:[e(h,{compact:!0,onClick:()=>t("create-alias"),children:"Create Alias"}),e(h,{compact:!0,color:"red",onClick:()=>t("change-password"),children:"Change Password"})]})})]}),Z=()=>{const r=x({initialValues:{username:"",password:"",key:"",url:""}}),[t,s]=m.exports.useState();return a(g,{my:"lg",children:[e(b,{my:"lg",children:"Create URL Alias"}),a("form",{onSubmit:r.onSubmit(async({username:n,password:o,key:l,url:i})=>{let d;try{d=await v.post("https://g3t.ca/api/v1/urls",{key:l,url:i},{headers:{"g3t-client-id":n,"g3t-client-secret":o},withCredentials:!0})}catch(I){console.error(I),s("Error!")}(d==null?void 0:d.status)===200?s("Success!"):(console.warn(d==null?void 0:d.data),s("Unsuccessful!"))}),children:[e(f,c({required:!0,label:"Username"},r.getInputProps("username"))),e(y,p(c({required:!0,label:"Password"},r.getInputProps("password")),{py:"lg"})),e(f,p(c({required:!0,label:"Custom Key",placeholder:"my/url"},r.getInputProps("key")),{py:"lg"})),e(f,p(c({required:!0,label:"Destination URL",placeholder:"https://www.some-long-url.com?abc=123"},r.getInputProps("url")),{pb:"lg"})),r.values.key.length>0&&a($,{children:[e(u,{color:"gray",size:"sm",children:"If successful, the following alias will be created:"}),a(H,{size:"sm",href:`https://g3t.ca/${r.values.key}`,target:"_blank",children:["https://g3t.ca/",r.values.key]})]}),e(w,{position:"left",py:"lg",children:e(h,{type:"submit",children:"Create Link"})})]}),t&&e(u,{size:"xl",children:t})]})},ee=()=>{const r=x({initialValues:{username:"",password:"",newPassword:"",confirmNewPassword:""},validationRules:{newPassword:n=>6<=n.length&&n.length<=1024,confirmNewPassword:(n,o)=>n===(o==null?void 0:o.newPassword)}}),[t,s]=m.exports.useState();return a(g,{my:"lg",children:[e(b,{my:"lg",children:"Create URL Alias"}),a("form",{onSubmit:r.onSubmit(async({username:n,password:o,newPassword:l})=>{let i;try{i=await v.put("https://g3t.ca/api/v1/users/self",{clientSecret:l},{headers:{"g3t-client-id":n,"g3t-client-secret":o},withCredentials:!0})}catch(d){console.error(d),s("Error!")}(i==null?void 0:i.status)===200?s("Success!"):(console.warn(i==null?void 0:i.data),s("Unsuccessful!"))}),children:[e(f,c({required:!0,label:"Username"},r.getInputProps("username"))),e(y,p(c({required:!0,label:"Current Password"},r.getInputProps("password")),{py:"lg"})),e(y,p(c({required:!0,label:"New Password"},r.getInputProps("newPassword")),{py:"lg"})),e(y,p(c({required:!0,label:"Confirm Password"},r.getInputProps("confirmNewPassword")),{pb:"lg"})),e(w,{position:"left",py:"lg",children:e(h,{type:"submit",children:"Update Password"})})]}),t&&e(u,{size:"xl",children:t})]})},re=({form:r})=>{switch(r){case"create-alias":return e(Z,{});case"change-password":return e(ee,{});default:return e(te,{})}};const te=()=>a(g,{my:"lg",children:[e(b,{my:"lg",children:"URL Linker"}),e(u,{size:"lg",children:"Choose an option on the left to get started."})]});var oe=()=>e(j,{height:60,p:"md",children:e(u,{children:"Footer"})}),se=()=>{const[r,t]=m.exports.useState(!1),[s,n]=m.exports.useState("none");return e(D,{styles:o=>({main:{background:o.colorScheme==="dark"?o.colors.dark[8]:o.colors.gray[0]}}),navbarOffsetBreakpoint:"sm",asideOffsetBreakpoint:"sm",fixed:!0,header:e(X,{navbarOpened:r,setNavbarOpened:t}),navbar:e(Y,{opened:r,setForm:n}),footer:e(oe,{}),children:e(re,{form:s})})},ne=()=>{const[r,t]=Q();return e(m.exports.StrictMode,{children:e(E,{colorScheme:r,toggleColorScheme:t,children:a(_,{withNormalizeCSS:!0,withGlobalStyles:!0,theme:{colorScheme:r},children:[e(W,{}),e(se,{})]})})})};const le=document.getElementById("root");K.exports.render(e(ne,{}),le);
